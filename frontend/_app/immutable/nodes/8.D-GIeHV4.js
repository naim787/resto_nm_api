import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{c as Me,o as je}from"../chunks/C0WiqiGc.js";import{p as X,as as G,j as J,am as ve,a as w,i as Z,f as R,c as t,s as l,r as e,t as oe,u as _,ah as y,aV as ue,aW as he,b as x,m as I,g as s,n as Se}from"../chunks/COSkQsm4.js";import{s as M}from"../chunks/CWFEHnWU.js";import{i as ce}from"../chunks/BQ8w4ybz.js";import{e as de,i as _e}from"../chunks/BwS77tqc.js";import{i as ie}from"../chunks/C6hNewRt.js";import{s as fe,r as pe,p as C}from"../chunks/BbDZAae-.js";/* empty css                */import{e as F}from"../chunks/DN8omCT8.js";import{r as xe,s as be,b as we}from"../chunks/DFCodPOx.js";import{b as ke}from"../chunks/BAXWHuG0.js";import{s as ge}from"../chunks/BCdqXXNJ.js";import{I as me}from"../chunks/CrQ9F5MQ.js";import{N as De}from"../chunks/BB4OUe8m.js";import"../chunks/CylICJnW.js";function ye(v,a){X(a,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let o=pe(a,["$$slots","$$events","$$legacy"]);const j=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m15 9-6 6"}],["path",{d:"m9 9 6 6"}]];me(v,fe({name:"circle-x"},()=>o,{get iconNode(){return j},children:(n,b)=>{var i=G(),u=J(i);ge(u,()=>a.children??ve),w(n,i)},$$slots:{default:!0}})),Z()}function $e(v,a){X(a,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let o=pe(a,["$$slots","$$events","$$legacy"]);const j=[["path",{d:"m21 21-4.34-4.34"}],["circle",{cx:"11",cy:"11",r:"8"}]];me(v,fe({name:"search"},()=>o,{get iconNode(){return j},children:(n,b)=>{var i=G(),u=J(i);ge(u,()=>a.children??ve),w(n,i)},$$slots:{default:!0}})),Z()}function ze(v,a){X(a,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let o=pe(a,["$$slots","$$events","$$legacy"]);const j=[["path",{d:"m15 11-1 9"}],["path",{d:"m19 11-4-7"}],["path",{d:"M2 11h20"}],["path",{d:"m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8a2 2 0 0 0 2-1.6l1.7-7.4"}],["path",{d:"M4.5 15.5h15"}],["path",{d:"m5 11 4-7"}],["path",{d:"m9 11 1 9"}]];me(v,fe({name:"shopping-basket"},()=>o,{get iconNode(){return j},children:(n,b)=>{var i=G(),u=J(i);ge(u,()=>a.children??ve),w(n,i)},$$slots:{default:!0}})),Z()}const Ne=!0;async function Pe(){return Array.from({length:100},(v,a)=>({id:String(a+1)}))}function Te({params:v}){return{noTABLE:v.id}}const vt=Object.freeze(Object.defineProperty({__proto__:null,entries:Pe,load:Te,prerender:Ne},Symbol.toStringTag,{value:"Module"}));var Be=R('<div class="skeleton w-65 h-10 rounded-md"></div>'),Ve=R('<div class="w-65 h-10 rounded-md flex justify-between items-center"><input type="text" class="bg-white w-50 h-10 text-black rounded-md p-2" placeholder="Search Menu"/> <!></div>');function Ae(v,a){let o=C(a,"searchTerm",12),j=C(a,"loadingMenu",8),n=C(a,"onInput",8);var b=G(),i=J(b);{var u=h=>{var f=Be();w(h,f)},z=h=>{var f=Ve(),c=t(f);xe(c);var g=l(c,2);$e(g,{class:"p-2 rounded-md bg-yellow-500 text-black",size:40}),e(f),ke(c,o),F("input",c,function(...D){var m;(m=n())==null||m.apply(this,D)}),w(h,f)};ce(i,h=>{j()?h(u):h(z,!1)})}w(v,b)}var Ie=R('<div class="card bg-base-100 image-full w-72 h-42 shadow-sm m-2"><figure><img loading="lazy" class="w-full h-full object-cover"/></figure> <div class="card-body"><h2 class="card-title text-2xl"> </h2> <p> </p> <p> </p> <div class="card-actions justify-end"><div class="card-actions justify-end"><button class="btn bg-green-500 text-black">Rp: <span> </span></button></div></div></div></div>');function Oe(v,a){X(a,!1);let o=C(a,"item",8),j=C(a,"onClick",8);const n="http://10.10.9.27:3001";ie();var b=Ie(),i=t(b),u=t(i);e(i);var z=l(i,2),h=t(z),f=t(h,!0);e(h);var c=l(h,2),g=t(c);e(c);var D=l(c,2),m=t(D,!0);e(D);var N=l(D,2),P=t(N),$=t(P),k=l(t($)),V=t(k,!0);e(k),e($),e(P),e(N),e(z),e(b),oe(()=>{be(u,"src",(y(o()),_(()=>`${n}${o().image_url}`))),be(u,"alt",(y(o()),_(()=>o().name))),M(f,(y(o()),_(()=>o().name))),M(g,`${n}${y(o()),_(()=>o().image_url)??""}`),M(m,(y(o()),_(()=>o().description))),M(V,(y(o()),_(()=>o().price)))}),F("click",$,function(...T){var A;(A=j())==null||A.apply(this,T)}),w(v,b),Z()}var Ee=R('<div class="w-full h-15 bg-black flex justify-evenly items-center rounded-full m-1"><div class="w-10 h-10 bg-red-500 rounded-full bg-cover bg-center"></div> <div class="flex flex-col"><h1> </h1> <p class="text-white/50"> </p></div> <h1> </h1> <h1> </h1> <button type="submit" class="btn"><!></button></div>'),Le=R('<div class="drawer drawer-end z-20 ml-10"><input id="my-drawer-4" type="checkbox" class="drawer-toggle"/> <div class="drawer-content"><label for="my-drawer-4" class="drawer-button btn btn-primary indicator"><span class="indicator-item badge badge-secondary"> </span> <!></label></div> <div class="drawer-side"><label for="my-drawer-4" aria-label="close sidebar" class="drawer-overlay"></label> <ul class="menu bg-base-200 text-base-content min-h-full w-100 p-4 mt-15 border"><div class="w-full flex"><h1 class="m-auto text-3xl">CheckOut</h1></div> <div class="w-full h-[70vh] flex flex-wrap py-2 justify-start items-start overflow-scroll"></div> <h1 class="text-3xl"> </h1> <p class="text-2xl">Keterangan :</p> <textarea class="bg-white w-full h-30 text-black text-2xl" name="" id=""></textarea> <button class="btn bg-green-500 mt-3 h-15">Checkout</button></ul></div></div>');function We(v,a){X(a,!1);let o=C(a,"checkoutData",24,()=>[]),j=C(a,"removeCheckout",8),n=C(a,"onCheckout",8);const b="http://10.10.9.27:3001";let i=I(0);ue(()=>y(o()),()=>{x(i,o().length>=1?o().reduce((f,c)=>f+c.subtotal,0):0)}),he(),ie();var u=G(),z=J(u);{var h=f=>{var c=Le(),g=l(t(c),2),D=t(g),m=t(D),N=t(m,!0);e(m);var P=l(m,2);ze(P,{}),e(D),e(g);var $=l(g,2),k=l(t($),2),V=l(t(k),2);de(V,5,o,_e,(O,d,te)=>{var E=Ee(),q=t(E),H=l(q,2),L=t(H),K=t(L,!0);e(L);var ae=l(L,2),Q=t(ae);e(ae),e(H);var Y=l(H,2),U=t(Y);e(Y);var W=l(Y,2),r=t(W,!0);e(W);var p=l(W,2),S=t(p);ye(S,{size:30,class:"text-red-500"}),e(p),e(E),oe(()=>{we(q,(s(d),_(()=>`background-image: url('${b}${s(d).products.image_url}')`))),M(K,(s(d),_(()=>s(d).products.name))),M(Q,`${s(d),_(()=>s(d).taggal)??""} : ${s(d),_(()=>s(d).waktu)??""}`),M(U,`Rp:${s(d),_(()=>s(d).subtotal)??""}`),M(r,(s(d),_(()=>s(d).value)))}),F("click",p,()=>j()(te)),w(O,E)}),e(V);var T=l(V,2),A=t(T);e(T);var ee=l(T,6);e(k),e($),e(c),oe(()=>{M(N,(y(o()),_(()=>o().length))),M(A,`Total Rp: ${s(i)??""}`)}),F("click",ee,function(...O){var d;(d=n())==null||d.apply(this,O)}),w(f,c)};ce(z,f=>{y(o()),_(()=>o().length>=1)&&f(h)})}w(v,u),Z()}var Fe=R('<div class="modal modal-open backdrop-blur" role="dialog"><div class="modal-box relative h-[80vh] md:h-auto"><button class="absolute top-0 right-0 bg-transparent text-red-500"><!></button> <div class="w-full h-45 bg-red-600 rounded-md my-3 bg-cover bg-center"></div> <h3 class="font-bold text-3xl"> </h3> <h1>pajak : <span class="text-green-500"> </span></h1> <h1>discount : <span class="text-green-500"> </span></h1> <h1>product : Rp <span class="text-green-500"> </span></h1> <div class="w-full h-20 flex justify-center items-center"><div class="p-2 bg-gray-800 rounded-full flex justify-center items-center"><button type="button" class="py-2 px-4 bg-red-500 rounded-full">-</button> <div class="mx-2 py-2 px-5"><input class="w-15 text-center" type="number" min="1"/></div> <button type="button" class="py-2 px-4 bg-green-500 rounded-full">+</button></div></div> <div class="w-full h-20 flex justify-center items-center"><button class="w-60 h-12 rounded-md bg-green-500 flex"><h1 class="text-2xl m-auto">Checkout</h1></button></div> <h1 class="text-2xl">subtotal : Rp <span class="text-green-500"> </span></h1></div></div>');function Je(v,a){X(a,!1);const o=Me();let j=C(a,"showModal",8,!1),n=C(a,"showData",24,()=>({})),b=C(a,"pajak",8,0),i=C(a,"Value",12,1),u=C(a,"onClose",8),z=C(a,"onCheckout",8),h=C(a,"onValueChange",8);const f="http://10.10.9.27:3001";let c=I(0);ue(()=>(y(n()),y(i()),y(b()),s(c)),()=>{const N=parseFloat(n().price)||0,P=parseFloat(n().discount)||0,$=parseInt(i())||1,k=N*$,V=b()/100*k,T=P/100*k;x(c,Math.round(k+V-T)),o("subtotalChange",s(c))}),he(),ie();var g=G(),D=J(g);{var m=N=>{var P=Fe(),$=t(P),k=t($),V=t(k);ye(V,{}),e(k);var T=l(k,2),A=l(T,2),ee=t(A,!0);e(A);var O=l(A,2),d=l(t(O)),te=t(d);e(d),e(O);var E=l(O,2),q=l(t(E)),H=t(q);e(q),e(E);var L=l(E,2),K=l(t(L)),ae=t(K,!0);e(K),e(L);var Q=l(L,2),Y=t(Q),U=t(Y),W=l(U,2),r=t(W);xe(r),e(W);var p=l(W,2);e(Y),e(Q);var S=l(Q,2),B=t(S);e(S);var re=l(S,2),ne=l(t(re)),Ce=t(ne,!0);e(ne),e(re),e($),e(P),oe(()=>{we(T,(y(n()),_(()=>`background-image: url('${f}${n().image_url}')`))),M(ee,(y(n()),_(()=>n().name))),M(te,`${b()??""}%`),M(H,`${y(n()),_(()=>n().discount)??""}%`),M(ae,(y(n()),_(()=>n().price))),M(Ce,s(c))}),F("click",k,function(...se){var le;(le=u())==null||le.apply(this,se)}),F("click",U,()=>h()(Math.max(1,i()-1))),ke(r,i),F("input",r,se=>h()(Math.max(1,+se.target.value))),F("click",p,()=>h()(i()+1)),F("click",B,function(...se){var le;(le=z())==null||le.apply(this,se)}),w(N,P)};ce(D,N=>{j()&&N(m)})}w(v,g),Z()}var Re=R('<footer class="footer sm:footer-horizontal bg-base-200 text-base-content p-10 mt-5 z-20"><nav><h6 class="footer-title">Services</h6> <a href="/" class="link link-hover">Branding</a> <a href="/" class="link link-hover">Design</a> <a href="/" class="link link-hover">Marketing</a> <a href="/" class="link link-hover">Advertisement</a></nav> <nav><h6 class="footer-title">Company</h6> <a href="/" class="link link-hover">About us</a> <a href="/" class="link link-hover">Contact</a> <a href="/" class="link link-hover">Jobs</a> <a href="/" class="link link-hover">Press kit</a></nav> <nav><h6 class="footer-title">Legal</h6> <a href="/" class="link link-hover">Terms of use</a> <a href="/" class="link link-hover">Privacy policy</a> <a href="/" class="link link-hover">Cookie policy</a></nav></footer> <footer class="footer bg-base-200 text-base-content border-base-300 border-t px-10 py-4"><aside class="grid-flow-col items-center"><svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" class="fill-current"><path d="M22.672 15.226l-2.432.811.841 2.515c.33 1.019-.209 2.127-1.23 2.456-1.15.325-2.148-.321-2.463-1.226l-.84-2.518-5.013 1.677.84 2.517c.391 1.203-.434 2.542-1.831 2.542-.88 0-1.601-.564-1.86-1.314l-.842-2.516-2.431.809c-1.135.328-2.145-.317-2.463-1.229-.329-1.018.211-2.127 1.231-2.456l2.432-.809-1.621-4.823-2.432.808c-1.355.384-2.558-.59-2.558-1.839 0-.817.509-1.582 1.327-1.846l2.433-.809-.842-2.515c-.33-1.02.211-2.129 1.232-2.458 1.02-.329 2.13.209 2.461 1.229l.842 2.515 5.011-1.677-.839-2.517c-.403-1.238.484-2.553 1.843-2.553.819 0 1.585.509 1.85 1.326l.841 2.517 2.431-.81c1.02-.33 2.131.211 2.461 1.229.332 1.018-.21 2.126-1.23 2.456l-2.433.809 1.622 4.823 2.433-.809c1.242-.401 2.557.484 2.557 1.838 0 .819-.51 1.583-1.328 1.847m-8.992-6.428l-5.01 1.675 1.619 4.828 5.011-1.674-1.62-4.829z"></path></svg> <p>ACME Industries Ltd. <br/> Providing reliable tech since 1992</p></aside> <nav class="md:place-self-center md:justify-self-end"><div class="grid grid-flow-col gap-4"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="fill-current"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="fill-current"><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="fill-current"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"></path></svg></div></nav></footer>',1);function qe(v){var a=Re();Se(2),w(v,a)}var He=R('<div class="card bg-black w-58 md:w-96 h-40 shadow-sm m-1 flex skeleton"></div>'),Ke=R('<!> <div class="w-[100vw] h-[100vh] pt-15 bg-black"><div class="w-full h-20 flex justify-around items-center p-2 bg-black"><!> <!> <div class="p-2 mx-3 flex absolute top-0 right-0 z-50"><h1 class="text-2xl"> </h1></div></div> <div class="w-full h-[80vh] flex flex-wrap justify-evenly items-center overflow-auto"><!></div> <!> <!></div>',1);function ut(v,a){X(a,!1);const o=I();let j=C(a,"noTABLE",8);const n="http://10.10.9.27:3001";let b=I(0);const i=10;let u=I(""),z=I([]),h=I(!0),f=I(!1),c=I(1),g=I([]),D=I({}),m;je(async()=>{await N(),m=new WebSocket("ws://10.10.9.27:3001/ws/orders"),m.onopen=()=>console.log("WebSocket connected"),m.onmessage=r=>{const S=JSON.parse(r.data).orders.map(B=>({...B,products:JSON.parse(B.products)}));console.log("✅ Parsed orders:",S)},m.onerror=r=>console.error("WebSocket error",r),m.onclose=()=>console.log("WebSocket closed")});async function N(){try{const r=await fetch(`${n}/menu`);if(!r.ok)throw new Error("Failed to fetch menu");let p=await r.json();x(z,p.data)}catch(r){console.error("Error fetching menu:",r)}finally{x(h,!1)}}function P(){if(s(c)>=1){const r=new Date;let p=`${r.getDate()}/${r.getMonth()+1}/${r.getFullYear()}`,S=`${r.getHours()}:${r.getMinutes()}`;const B={products:s(D),value:s(c),taggal:p,waktu:S,subtotal:s(b)};x(g,[...s(g),B])}x(f,!1),x(c,1)}function $(){if(m&&m.readyState===1&&s(g).length>0){const r=s(g).map(p=>({...p,products:JSON.stringify(p.products)}));m.send(JSON.stringify(r)),x(g,[])}else console.warn("WebSocket belum siap atau data kosong.")}function k(r){x(g,s(g).filter((p,S)=>S!==r))}function V(){x(f,!1),x(c,1)}function T(r){x(c,r)}ue(()=>(s(z),s(u)),()=>{x(o,s(z).filter(r=>r.name.toLowerCase().includes(s(u).toLowerCase())))}),he(),ie();var A=Ke(),ee=J(A);De(ee);var O=l(ee,2),d=t(O),te=t(d);Ae(te,{get searchTerm(){return s(u)},get loadingMenu(){return s(h)},onInput:r=>x(u,r.target.value)});var E=l(te,2);We(E,{get checkoutData(){return s(g)},removeCheckout:k,onCheckout:$});var q=l(E,2),H=t(q),L=t(H);e(H),e(q),e(d);var K=l(d,2),ae=t(K);{var Q=r=>{var p=G(),S=J(p);de(S,0,()=>Array(7),_e,(B,re)=>{var ne=He();w(B,ne)}),w(r,p)},Y=r=>{var p=G(),S=J(p);de(S,1,()=>s(o),B=>B.id,(B,re)=>{Oe(B,{get item(){return s(re)},onClick:()=>{x(f,!0),x(D,s(re))}})}),w(r,p)};ce(ae,r=>{s(h)?r(Q):r(Y,!1)})}e(K);var U=l(K,2);Je(U,{get showModal(){return s(f)},get showData(){return s(D)},pajak:i,get Value(){return s(c)},onClose:V,onCheckout:P,onValueChange:T,$$events:{subtotalChange:r=>x(b,r.detail)}});var W=l(U,2);qe(W),e(O),oe(()=>M(L,`NO: ${j()??""}`)),w(v,A),Z()}export{ut as component,vt as universal};
